datasource db {
  provider = "postgresql"
  url      = env("DATASOURCE_URL")
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["interactiveTransactions"]
  binaryTargets   = ["native", "linux-musl"]
}

model Sensor {
  tag String @id @default(uuid())

  sensorValues SensorValue[]

  @@map("sensor")
}

model SensorValue {
  sensor    Sensor @relation(fields: [sensorTag], references: [tag])
  sensorTag String

  date DateTime

  mean Float?
  std  Float?

  @@id([date, sensorTag])
  @@index([sensorTag, date])
  @@map("sensor_value")
}
